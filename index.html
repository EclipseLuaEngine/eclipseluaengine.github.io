<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eclipse Documentation - Modern Lua Engine for AzerothCore</title>
    <meta name="description" content="High-performance Lua scripting engine documentation for AzerothCore with advanced caching and multi-state architecture.">
    <meta name="keywords" content="Eclipse, Lua, AzerothCore, WoW, scripting, engine, documentation">
    <meta name="author" content="Eclipse Team">
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="./assets/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ™</text></svg>">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Eclipse Documentation">
    <meta property="og:description" content="High-performance Lua scripting engine for AzerothCore">
    <meta property="og:image" content="./assets/eclipse-preview.png">
    
    <!-- Performance hints -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="preload" href="./assets/app.js" as="script">
</head>
<body>
    <!-- Grid background effect -->
    <div class="grid-bg" aria-hidden="true"></div>
    
    <!-- Header -->
    <header class="header" role="banner">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon" aria-hidden="true">ðŸŒ™</div>
                <div class="logo-text">
                    <h1>Eclipse</h1>
                    <p>Lua Engine Documentation</p>
                </div>
            </div>
            
            <div class="search-container">
                <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <input
                    type="text"
                    id="searchInput"
                    class="search-input"
                    placeholder="Search methods... (Ctrl+K)"
                    autocomplete="off"
                    spellcheck="false"
                    aria-label="Search documentation"
                />
                <div id="searchResults" class="search-results hidden" role="listbox" aria-label="Search results"></div>
            </div>
        </div>
    </header>

    <!-- Main layout -->
    <div class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar" role="navigation" aria-label="Documentation navigation">
            <div class="sidebar-content">
                <button id="backButton" class="back-button hidden" aria-label="Go back">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    Back to Overview
                </button>

                <nav>
                    <div id="classesList" class="nav-section">
                        <h3>API Classes</h3>
                        <div id="classItems" class="nav-items">
                            <!-- Loading placeholder -->
                            <div class="loading">
                                <div class="loading-item"></div>
                                <div class="loading-item"></div>
                                <div class="loading-item"></div>
                            </div>
                        </div>
                    </div>

                    <div id="methodsList" class="nav-section hidden">
                        <h3 id="methodsTitle">Methods</h3>
                        <div id="methodItems" class="nav-items"></div>
                    </div>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content" role="main">
            <!-- Home Content -->
            <div id="homeContent">
                <div class="hero">
                    <h1>Eclipse Lua Engine</h1>
                    <p>High-performance Lua scripting engine for AzerothCore featuring advanced caching, multi-state architecture, and comprehensive API bindings for modern WoW server development.</p>
                </div>

                <!-- Feature cards -->
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3>High Performance</h3>
                        <p>25% faster execution with LuaJIT support and optimized Sol2 configuration for maximum throughput.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
                            </svg>
                        </div>
                        <h3>Smart Caching</h3>
                        <p>MD5-based script validation with hot reload capabilities for rapid development cycles.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon" aria-hidden="true">
                            <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                        </div>
                        <h3>Multi-State Architecture</h3>
                        <p>Global compiler with per-map instances for optimal resource management and isolation.</p>
                    </div>
                </div>

                <!-- API Documentation Section -->
                <section>
                    <h2 class="section-title">API Documentation</h2>
                    <div id="classOverview" class="classes-grid">
                        <!-- Loading placeholder -->
                        <div class="loading">
                            <div class="loading-item"></div>
                            <div class="loading-item"></div>
                            <div class="loading-item"></div>
                        </div>
                    </div>
                </section>

                <!-- Quick Start Example -->
                <section class="code-example">
                    <h3>Quick Start Example</h3>
                    <pre><code>-- Register a player login event
RegisterPlayerEvent(PLAYER_EVENT_ON_LOGIN, function(event, player)
    player:SendBroadcastMessage("Welcome to Eclipse!")
    player:TeleportTo(0, -8949.95, -132.493, 83.5312, 0)
end)

-- Global state messaging
SendStateMessage(-1, "player_count", #GetPlayers())</code></pre>
                </section>
            </div>

            <!-- Dynamic Content -->
            <div id="dynamicContent" class="hidden markdown-content">
                <div id="markdownContent" role="article"></div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="./assets/app.js"></script>
    
    <!-- Analytics placeholder (if needed) -->
    <!-- <script>
        // Add analytics code here
    </script> -->
    
    <!-- Service Worker for caching (optional) -->
    <script>
        if ('serviceWorker' in navigator && location.protocol === 'https:') {
            navigator.serviceWorker.register('./sw.js').catch(console.warn);
        }
    </script>
</body>
</html>